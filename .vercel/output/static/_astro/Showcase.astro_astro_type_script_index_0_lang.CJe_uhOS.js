import{d as S}from"./debounce.DOJm-Cbw.js";const x="modulepreload",I=function(e){return"/"+e},C={},N=function(c,r,s){let n=Promise.resolve();if(r&&r.length>0){let u=function(o){return Promise.all(o.map(m=>Promise.resolve(m).then(a=>({status:"fulfilled",value:a}),a=>({status:"rejected",reason:a}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),g=i?.nonce||i?.getAttribute("nonce");n=u(r.map(o=>{if(o=I(o),o in C)return;C[o]=!0;const m=o.endsWith(".css"),a=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${a}`))return;const l=document.createElement("link");if(l.rel=m?"stylesheet":x,m||(l.as="script"),l.crossOrigin="",l.href=o,g&&l.setAttribute("nonce",g),document.head.appendChild(l),m)return new Promise((E,b)=>{l.addEventListener("load",E),l.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${o}`)))})}))}function d(u){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=u,window.dispatchEvent(i),!i.defaultPrevented)throw u}return n.then(u=>{for(const i of u||[])i.status==="rejected"&&d(i.reason);return c().catch(d)})};let v=!1,y=!1,p;function P(){const e=window.innerWidth;return e<640?"7.5m":(e<1024,"10.5m")}function L(){const e=document.getElementById("showcase-viewer");e&&v&&e.setAttribute("camera-orbit",`0deg 75deg ${P()}`)}function k(e,c){for(;e.firstChild;)e.removeChild(e.firstChild);const r=document.createElement("p");r.className="text-gray-500 text-sm text-center px-4",r.textContent="Unable to load 3D viewer.";const s=document.createElement("br"),n=document.createElement("button");n.className="mt-2 text-blue-600 underline hover:text-blue-800",n.textContent="Try again",n.addEventListener("click",c),r.appendChild(s),r.appendChild(n),e.appendChild(r)}function B(e){for(;e.firstChild;)e.removeChild(e.firstChild);const c=document.createElement("div");c.className="w-16 h-16 mb-4";const r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("class","animate-spin text-gray-400"),r.setAttribute("viewBox","0 0 24 24"),r.setAttribute("fill","none");const s=document.createElementNS("http://www.w3.org/2000/svg","circle");s.setAttribute("class","opacity-25"),s.setAttribute("cx","12"),s.setAttribute("cy","12"),s.setAttribute("r","10"),s.setAttribute("stroke","currentColor"),s.setAttribute("stroke-width","4");const n=document.createElementNS("http://www.w3.org/2000/svg","path");n.setAttribute("class","opacity-75"),n.setAttribute("fill","currentColor"),n.setAttribute("d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"),r.appendChild(s),r.appendChild(n),c.appendChild(r);const d=document.createElement("p");d.className="text-gray-500 text-sm",d.textContent="Loading 3D Model...",e.appendChild(c),e.appendChild(d)}function A(){const e=document.getElementById("product");if(!e)return;const c=e.dataset.models,r=c?JSON.parse(c):[];let s=0;const n=document.getElementById("showcase-viewer"),d=document.getElementById("showcase-title"),u=document.getElementById("showcase-description"),i=document.querySelectorAll(".showcase-thumbnail"),g=document.querySelectorAll(".pagination-dot"),o=document.getElementById("model-loading-placeholder"),m=document.getElementById("model-viewer-container");if(!n)return;async function a(){if(!(v||y)){y=!0;try{await N(()=>import("./model-viewer.DTFmNSuG.js"),[]),v=!0;const t=n.getAttribute("data-initial-src");t&&n.setAttribute("src",t),n.addEventListener("load",()=>{o&&(o.style.opacity="0",o.style.transition="opacity 300ms ease-out",setTimeout(()=>{o.style.display="none"},300)),n.classList.remove("opacity-0"),n.classList.add("opacity-100"),L()},{once:!0}),p=S(L,200),window.addEventListener("resize",p)}catch(t){console.error("Failed to load model-viewer:",t),y=!1,o&&k(o,()=>{B(o),a()})}}}function l(){if("IntersectionObserver"in window&&m){const t=new IntersectionObserver(h=>{h.forEach(f=>{f.isIntersecting&&(a(),t.disconnect())})},{root:null,rootMargin:"200px 0px",threshold:0});t.observe(m)}else a()}function E(t){if(t===s||!r[t])return;const h=r[t];s=t,v&&n.setAttribute("src",h.glbPath),d&&(d.textContent=h.name),u&&(u.textContent=h.description),i.forEach((f,w)=>{f.classList.toggle("ring-2",w===t),f.classList.toggle("ring-showcase-red",w===t)}),g.forEach((f,w)=>{f.classList.toggle("bg-showcase-red",w===t),f.classList.toggle("bg-gray-light",w!==t)})}const b=()=>{!v&&!y&&a()};i.forEach(t=>{t.addEventListener("click",()=>{b(),E(parseInt(t.getAttribute("data-index")||"0",10))})}),g.forEach(t=>{t.addEventListener("click",()=>{b(),E(parseInt(t.getAttribute("data-index")||"0",10))})}),l(),document.addEventListener("astro:before-swap",()=>{p&&(window.removeEventListener("resize",p),p.cancel())},{once:!0})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",A):A();
