---
interface Props {
  label: string;
  name: string;
  placeholder?: string;
  required?: boolean;
}

const {
  label,
  name,
  placeholder = 'Phone',
  required = false,
} = Astro.props;

const selectClasses = 'h-[50px] px-3 border-r border-[#D2D5DA] bg-white focus:ring-2 focus:ring-bmg-primary focus:outline-none transition-all duration-200 text-gray-900 appearance-none cursor-pointer bg-[url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 24 24\' fill=\'none\' stroke=\'currentColor\' stroke-width=\'2\' stroke-linecap=\'round\' stroke-linejoin=\'round\'%3e%3cpolyline points=\'6 9 12 15 18 9\'%3e%3c/polyline%3e%3c/svg%3e")] bg-[length:1em_1em] bg-[right_0.25rem_center] bg-no-repeat pr-6';
const inputClasses = 'flex-1 h-[50px] px-3 bg-white focus:ring-2 focus:ring-bmg-primary focus:outline-none transition-all duration-200 text-gray-900 placeholder-gray-500';
---

<div class="space-y-2">
  <label for={name} class="block text-sm font-medium text-gray-900">
    {label}
    {required && <span class="text-red-500">*</span>}
  </label>
  <div class="flex rounded-md border border-[#D2D5DA] bg-white overflow-hidden">
    <select
      id={`${name}-country`}
      name={`${name}-country`}
      class={selectClasses}
    >
      <option value="+66">+66</option>
      <option value="+1">+1</option>
      <option value="+44">+44</option>
      <option value="+86">+86</option>
      <option value="+91">+91</option>
    </select>
    <input
      type="tel"
      id={name}
      name={name}
      placeholder={placeholder}
      required={required}
      class={inputClasses}
    />
  </div>
</div>
