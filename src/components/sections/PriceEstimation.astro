---

---

<section class="py-16 lg:py-24 bg-white" id="price-estimation">
  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Section Header -->
    <h2 class="text-3xl lg:text-4xl font-bold text-center mb-8" style="color: #2C266C;">
      Price Estimation
    </h2>

    <!-- Tab Container -->
    <div class="w-full">
      <!-- Tab Buttons -->
      <div class="flex rounded-lg overflow-hidden border-2 border-[#2d2d5a]" role="tablist" aria-label="Price estimation calculator type">
        <button
          id="bust-tab"
          role="tab"
          aria-selected="false"
          aria-controls="bust-panel"
          class="flex-1 py-4 px-6 text-xl lg:text-2xl font-semibold text-white bg-[#6b6b9d] hover:bg-[#5a5a8a] transition-all duration-300 ease-out focus:outline-none focus:ring-2 focus:ring-[#2d2d5a] focus:ring-offset-2"
          data-tab="bust"
        >
          Bust
        </button>
        <button
          id="relief-tab"
          role="tab"
          aria-selected="false"
          aria-controls="relief-panel"
          class="flex-1 py-4 px-6 text-xl lg:text-2xl font-semibold text-white bg-[#6b6b9d] hover:bg-[#5a5a8a] transition-all duration-300 ease-out focus:outline-none focus:ring-2 focus:ring-[#2d2d5a] focus:ring-offset-2"
          data-tab="relief"
        >
          Relief
        </button>
      </div>

      <!-- Tab Panels -->
      <!-- Bust Calculator Panel -->
      <div
        id="bust-panel"
        role="tabpanel"
        aria-labelledby="bust-tab"
        class="mt-6 p-6 bg-gray-50 rounded-lg border border-gray-200 hidden"
      >
        <h3 class="text-xl font-semibold text-[#2d2d5a] mb-4">Bust Price Calculator</h3>

        <!-- Size Selection -->
        <div class="mb-6">
          <label class="block text-sm font-medium text-gray-700 mb-2">Select Size</label>
          <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
            <button class="bust-size-btn px-4 py-3 border-2 border-[#2d2d5a] rounded-lg text-[#2d2d5a] hover:bg-[#2d2d5a] hover:text-white transition-colors" data-size="small" data-price="2500">
              <span class="block font-semibold">Small</span>
              <span class="block text-sm">12" height</span>
            </button>
            <button class="bust-size-btn px-4 py-3 border-2 border-[#2d2d5a] rounded-lg text-[#2d2d5a] hover:bg-[#2d2d5a] hover:text-white transition-colors" data-size="medium" data-price="4500">
              <span class="block font-semibold">Medium</span>
              <span class="block text-sm">18" height</span>
            </button>
            <button class="bust-size-btn px-4 py-3 border-2 border-[#2d2d5a] rounded-lg text-[#2d2d5a] hover:bg-[#2d2d5a] hover:text-white transition-colors" data-size="large" data-price="7500">
              <span class="block font-semibold">Large</span>
              <span class="block text-sm">24" height</span>
            </button>
            <button class="bust-size-btn px-4 py-3 border-2 border-[#2d2d5a] rounded-lg text-[#2d2d5a] hover:bg-[#2d2d5a] hover:text-white transition-colors" data-size="lifesize" data-price="12000">
              <span class="block font-semibold">Life Size</span>
              <span class="block text-sm">30"+ height</span>
            </button>
          </div>
        </div>

        <!-- Material Selection -->
        <div class="mb-6">
          <label class="block text-sm font-medium text-gray-700 mb-2">Select Material</label>
          <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
            <button class="bust-material-btn px-4 py-3 border-2 border-[#2d2d5a] rounded-lg text-[#2d2d5a] hover:bg-[#2d2d5a] hover:text-white transition-colors" data-material="bronze" data-multiplier="1">
              <span class="block font-semibold">Bronze</span>
            </button>
            <button class="bust-material-btn px-4 py-3 border-2 border-[#2d2d5a] rounded-lg text-[#2d2d5a] hover:bg-[#2d2d5a] hover:text-white transition-colors" data-material="marble" data-multiplier="1.3">
              <span class="block font-semibold">Marble</span>
            </button>
            <button class="bust-material-btn px-4 py-3 border-2 border-[#2d2d5a] rounded-lg text-[#2d2d5a] hover:bg-[#2d2d5a] hover:text-white transition-colors" data-material="resin" data-multiplier="0.6">
              <span class="block font-semibold">Resin</span>
            </button>
          </div>
        </div>

        <!-- Detail Level -->
        <div class="mb-6">
          <label class="block text-sm font-medium text-gray-700 mb-2">Detail Level</label>
          <div class="grid grid-cols-3 gap-3">
            <button class="bust-detail-btn px-4 py-3 border-2 border-[#2d2d5a] rounded-lg text-[#2d2d5a] hover:bg-[#2d2d5a] hover:text-white transition-colors" data-detail="standard" data-addition="0">
              <span class="block font-semibold">Standard</span>
            </button>
            <button class="bust-detail-btn px-4 py-3 border-2 border-[#2d2d5a] rounded-lg text-[#2d2d5a] hover:bg-[#2d2d5a] hover:text-white transition-colors" data-detail="detailed" data-addition="1500">
              <span class="block font-semibold">Detailed</span>
            </button>
            <button class="bust-detail-btn px-4 py-3 border-2 border-[#2d2d5a] rounded-lg text-[#2d2d5a] hover:bg-[#2d2d5a] hover:text-white transition-colors" data-detail="premium" data-addition="3500">
              <span class="block font-semibold">Premium</span>
            </button>
          </div>
        </div>

        <!-- Estimated Price Display -->
        <div class="mt-8 p-4 bg-[#2d2d5a] rounded-lg text-center">
          <p class="text-white text-sm mb-1">Estimated Price</p>
          <p id="bust-price" class="text-3xl font-bold text-white">Select options above</p>
          <p class="text-white/70 text-xs mt-2">*Final price may vary based on specific requirements</p>
        </div>

        <!-- Contact CTA -->
        <div class="mt-4 text-center">
          <a href="#contact" class="inline-block px-8 py-3 bg-bmg-gold text-white font-semibold rounded-lg hover:bg-bmg-gold/90 transition-colors">
            Get Custom Quote
          </a>
        </div>
      </div>

      <!-- Relief Calculator Panel -->
      <div
        id="relief-panel"
        role="tabpanel"
        aria-labelledby="relief-tab"
        class="mt-6 p-6 bg-gray-50 rounded-lg border border-gray-200 hidden"
      >
        <h3 class="text-xl font-semibold text-[#2d2d5a] mb-4">Relief Price Calculator</h3>

        <!-- Size Selection -->
        <div class="mb-6">
          <label class="block text-sm font-medium text-gray-700 mb-2">Select Size (dimensions)</label>
          <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
            <button class="relief-size-btn px-4 py-3 border-2 border-[#2d2d5a] rounded-lg text-[#2d2d5a] hover:bg-[#2d2d5a] hover:text-white transition-colors" data-size="small" data-price="1800">
              <span class="block font-semibold">Small</span>
              <span class="block text-sm">12" x 16"</span>
            </button>
            <button class="relief-size-btn px-4 py-3 border-2 border-[#2d2d5a] rounded-lg text-[#2d2d5a] hover:bg-[#2d2d5a] hover:text-white transition-colors" data-size="medium" data-price="3500">
              <span class="block font-semibold">Medium</span>
              <span class="block text-sm">18" x 24"</span>
            </button>
            <button class="relief-size-btn px-4 py-3 border-2 border-[#2d2d5a] rounded-lg text-[#2d2d5a] hover:bg-[#2d2d5a] hover:text-white transition-colors" data-size="large" data-price="6000">
              <span class="block font-semibold">Large</span>
              <span class="block text-sm">24" x 36"</span>
            </button>
            <button class="relief-size-btn px-4 py-3 border-2 border-[#2d2d5a] rounded-lg text-[#2d2d5a] hover:bg-[#2d2d5a] hover:text-white transition-colors" data-size="mural" data-price="10000">
              <span class="block font-semibold">Mural</span>
              <span class="block text-sm">36"+ custom</span>
            </button>
          </div>
        </div>

        <!-- Relief Type -->
        <div class="mb-6">
          <label class="block text-sm font-medium text-gray-700 mb-2">Relief Type</label>
          <div class="grid grid-cols-3 gap-3">
            <button class="relief-type-btn px-4 py-3 border-2 border-[#2d2d5a] rounded-lg text-[#2d2d5a] hover:bg-[#2d2d5a] hover:text-white transition-colors" data-type="bas" data-multiplier="1">
              <span class="block font-semibold">Bas Relief</span>
              <span class="block text-xs">Low projection</span>
            </button>
            <button class="relief-type-btn px-4 py-3 border-2 border-[#2d2d5a] rounded-lg text-[#2d2d5a] hover:bg-[#2d2d5a] hover:text-white transition-colors" data-type="mezzo" data-multiplier="1.25">
              <span class="block font-semibold">Mezzo Relief</span>
              <span class="block text-xs">Medium projection</span>
            </button>
            <button class="relief-type-btn px-4 py-3 border-2 border-[#2d2d5a] rounded-lg text-[#2d2d5a] hover:bg-[#2d2d5a] hover:text-white transition-colors" data-type="alto" data-multiplier="1.5">
              <span class="block font-semibold">Alto Relief</span>
              <span class="block text-xs">High projection</span>
            </button>
          </div>
        </div>

        <!-- Material Selection -->
        <div class="mb-6">
          <label class="block text-sm font-medium text-gray-700 mb-2">Select Material</label>
          <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
            <button class="relief-material-btn px-4 py-3 border-2 border-[#2d2d5a] rounded-lg text-[#2d2d5a] hover:bg-[#2d2d5a] hover:text-white transition-colors" data-material="bronze" data-addition="800">
              <span class="block font-semibold">Bronze</span>
            </button>
            <button class="relief-material-btn px-4 py-3 border-2 border-[#2d2d5a] rounded-lg text-[#2d2d5a] hover:bg-[#2d2d5a] hover:text-white transition-colors" data-material="plaster" data-addition="0">
              <span class="block font-semibold">Plaster</span>
            </button>
            <button class="relief-material-btn px-4 py-3 border-2 border-[#2d2d5a] rounded-lg text-[#2d2d5a] hover:bg-[#2d2d5a] hover:text-white transition-colors" data-material="stone" data-addition="1200">
              <span class="block font-semibold">Stone</span>
            </button>
          </div>
        </div>

        <!-- Estimated Price Display -->
        <div class="mt-8 p-4 bg-[#2d2d5a] rounded-lg text-center">
          <p class="text-white text-sm mb-1">Estimated Price</p>
          <p id="relief-price" class="text-3xl font-bold text-white">Select options above</p>
          <p class="text-white/70 text-xs mt-2">*Final price may vary based on specific requirements</p>
        </div>

        <!-- Contact CTA -->
        <div class="mt-4 text-center">
          <a href="#contact" class="inline-block px-8 py-3 bg-bmg-gold text-white font-semibold rounded-lg hover:bg-bmg-gold/90 transition-colors">
            Get Custom Quote
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  // Tab switching functionality
  document.addEventListener('DOMContentLoaded', () => {
    const bustTab = document.getElementById('bust-tab');
    const reliefTab = document.getElementById('relief-tab');
    const bustPanel = document.getElementById('bust-panel');
    const reliefPanel = document.getElementById('relief-panel');

    function switchTab(activeTab: string) {
      if (activeTab === 'bust') {
        // Update tab styles
        bustTab?.classList.remove('bg-[#6b6b9d]', 'hover:bg-[#5a5a8a]');
        bustTab?.classList.add('bg-[#2d2d5a]');
        bustTab?.setAttribute('aria-selected', 'true');

        reliefTab?.classList.remove('bg-[#2d2d5a]');
        reliefTab?.classList.add('bg-[#6b6b9d]', 'hover:bg-[#5a5a8a]');
        reliefTab?.setAttribute('aria-selected', 'false');

        // Show/hide panels
        bustPanel?.classList.remove('hidden');
        reliefPanel?.classList.add('hidden');
      } else {
        // Update tab styles
        reliefTab?.classList.remove('bg-[#6b6b9d]', 'hover:bg-[#5a5a8a]');
        reliefTab?.classList.add('bg-[#2d2d5a]');
        reliefTab?.setAttribute('aria-selected', 'true');

        bustTab?.classList.remove('bg-[#2d2d5a]');
        bustTab?.classList.add('bg-[#6b6b9d]', 'hover:bg-[#5a5a8a]');
        bustTab?.setAttribute('aria-selected', 'false');

        // Show/hide panels
        reliefPanel?.classList.remove('hidden');
        bustPanel?.classList.add('hidden');
      }
    }

    bustTab?.addEventListener('click', () => switchTab('bust'));
    reliefTab?.addEventListener('click', () => switchTab('relief'));

    // Keyboard navigation
    [bustTab, reliefTab].forEach(tab => {
      tab?.addEventListener('keydown', (e: KeyboardEvent) => {
        if (e.key === 'ArrowLeft' || e.key === 'ArrowRight') {
          e.preventDefault();
          const currentTab = e.key === 'ArrowRight' ? 'relief' : 'bust';
          switchTab(currentTab);
          (currentTab === 'bust' ? bustTab : reliefTab)?.focus();
        }
      });
    });

    // Helper function to setup option buttons
    function setupOptionButtons(selector: string, callback: (btn: HTMLElement) => void) {
      document.querySelectorAll(selector).forEach(btn => {
        btn.addEventListener('click', (e) => {
          // Remove selected state from siblings
          document.querySelectorAll(selector).forEach(b => {
            b.classList.remove('bg-[#2d2d5a]', 'text-white');
            b.classList.add('text-[#2d2d5a]');
          });

          // Add selected state to clicked button
          const target = e.currentTarget as HTMLElement;
          target.classList.add('bg-[#2d2d5a]', 'text-white');
          target.classList.remove('text-[#2d2d5a]');

          callback(target);
        });
      });
    }

    // Bust Calculator Logic
    let bustSelections = { size: null as number | null, material: null as number | null, detail: null as number | null };

    setupOptionButtons('.bust-size-btn', (btn) => {
      bustSelections.size = parseFloat(btn.dataset.price || '0');
      calculateBustPrice();
    });

    setupOptionButtons('.bust-material-btn', (btn) => {
      bustSelections.material = parseFloat(btn.dataset.multiplier || '1');
      calculateBustPrice();
    });

    setupOptionButtons('.bust-detail-btn', (btn) => {
      bustSelections.detail = parseFloat(btn.dataset.addition || '0');
      calculateBustPrice();
    });

    function calculateBustPrice() {
      const priceEl = document.getElementById('bust-price');
      if (bustSelections.size !== null && bustSelections.material !== null && bustSelections.detail !== null) {
        const total = (bustSelections.size * bustSelections.material) + bustSelections.detail;
        if (priceEl) priceEl.textContent = `$${total.toLocaleString()}`;
      } else {
        if (priceEl) priceEl.textContent = 'Select all options';
      }
    }

    // Relief Calculator Logic
    let reliefSelections = { size: null as number | null, type: null as number | null, material: null as number | null };

    setupOptionButtons('.relief-size-btn', (btn) => {
      reliefSelections.size = parseFloat(btn.dataset.price || '0');
      calculateReliefPrice();
    });

    setupOptionButtons('.relief-type-btn', (btn) => {
      reliefSelections.type = parseFloat(btn.dataset.multiplier || '1');
      calculateReliefPrice();
    });

    setupOptionButtons('.relief-material-btn', (btn) => {
      reliefSelections.material = parseFloat(btn.dataset.addition || '0');
      calculateReliefPrice();
    });

    function calculateReliefPrice() {
      const priceEl = document.getElementById('relief-price');
      if (reliefSelections.size !== null && reliefSelections.type !== null && reliefSelections.material !== null) {
        const total = (reliefSelections.size * reliefSelections.type) + reliefSelections.material;
        if (priceEl) priceEl.textContent = `$${total.toLocaleString()}`;
      } else {
        if (priceEl) priceEl.textContent = 'Select all options';
      }
    }
  });
</script>
